{"filter":false,"title":"ser.c","tooltip":"/socketl1/ser.c","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":58,"column":0},"action":"insert","lines":["#include <unistd.h>","#include <stdio.h>","#include <sys/socket.h>","#include <stdlib.h>","#include <netinet/in.h>","#include <string.h>","#define PORT 8080","int main(int argc, char const *argv[])","{","\tint server_fd, new_socket, valread;","\tstruct sockaddr_in address;","\tint opt = 1;","\tint addrlen = sizeof(address);","\tchar buffer[1024] = {0};","\tchar *hello = \"Hello from server\";","\t","\t// Creating socket file descriptor","\tif ((server_fd = socket(AF_INET, SOCK_STREAM, 0)) == 0)","\t{","\t\tperror(\"socket failed\");","\t\texit(EXIT_FAILURE);","\t}","\t","\t// Forcefully attaching socket to the port 8080","\tif (setsockopt(server_fd, SOL_SOCKET, SO_REUSEADDR | SO_REUSEPORT,","\t\t\t\t\t\t\t\t\t\t\t\t&opt, sizeof(opt)))","\t{","\t\tperror(\"setsockopt\");","\t\texit(EXIT_FAILURE);","\t}","\taddress.sin_family = AF_INET;","\taddress.sin_addr.s_addr = INADDR_ANY;","\taddress.sin_port = htons( PORT );","\t","\t// Forcefully attaching socket to the port 8080","\tif (bind(server_fd, (struct sockaddr *)&address,","\t\t\t\t\t\t\t\tsizeof(address))<0)","\t{","\t\tperror(\"bind failed\");","\t\texit(EXIT_FAILURE);","\t}","\tif (listen(server_fd, 3) < 0)","\t{","\t\tperror(\"listen\");","\t\texit(EXIT_FAILURE);","\t}","\tif ((new_socket = accept(server_fd, (struct sockaddr *)&address,","\t\t\t\t\t(socklen_t*)&addrlen))<0)","\t{","\t\tperror(\"accept\");","\t\texit(EXIT_FAILURE);","\t}","\tvalread = read( new_socket , buffer, 1024);","\tprintf(\"%s\\n\",buffer );","\tsend(new_socket , hello , strlen(hello) , 0 );","\tprintf(\"Hello message sent\\n\");","\treturn 0;","}",""],"id":1}]]},"ace":{"folds":[],"scrolltop":712.5,"scrollleft":0,"selection":{"start":{"row":58,"column":0},"end":{"row":58,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":46,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1629354414140,"hash":"6595441bf4fbc51c989781a68ce433b90aefa206"}